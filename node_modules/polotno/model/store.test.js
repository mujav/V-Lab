"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const store_1=require("./store");test("move elements up",(()=>{var e,t,l,a,i,o,d,v,n,c,u,m,p;const E=(0,store_1.createStore)();E.addPage(),null===(e=E.activePage)||void 0===e||e.addElement({type:"text",id:"1"}),null===(t=E.activePage)||void 0===t||t.addElement({type:"text",id:"2"}),null===(l=E.activePage)||void 0===l||l.addElement({type:"text",id:"3"}),null===(a=E.activePage)||void 0===a||a.addElement({type:"text",id:"4"}),expect(null===(i=E.activePage)||void 0===i?void 0:i.canMoveElementsUp(["2","4"])).toEqual(!0),null===(o=E.activePage)||void 0===o||o.moveElementsUp(["2","4"]),expect(null===(d=E.activePage)||void 0===d?void 0:d.children.map((e=>e.id))).toStrictEqual(["1","3","2","4"]),expect(null===(v=E.activePage)||void 0===v?void 0:v.canMoveElementsUp(["2","4"])).toEqual(!1),null===(n=E.activePage)||void 0===n||n.moveElementsUp(["2","4"]),expect(null===(c=E.activePage)||void 0===c?void 0:c.children.map((e=>e.id))).toStrictEqual(["1","3","2","4"]),null===(u=E.activePage)||void 0===u||u.moveElementsUp(["3","1"]),expect(null===(m=E.activePage)||void 0===m?void 0:m.children.map((e=>e.id))).toStrictEqual(["2","1","3","4"]),null===(p=E.activePage)||void 0===p||p.moveElementsUp(["5","1"])})),test("move elements top",(()=>{var e,t,l,a,i,o,d,v,n;const c=(0,store_1.createStore)();c.addPage(),null===(e=c.activePage)||void 0===e||e.addElement({type:"text",id:"1"}),null===(t=c.activePage)||void 0===t||t.addElement({type:"text",id:"2"}),null===(l=c.activePage)||void 0===l||l.addElement({type:"text",id:"3"}),null===(a=c.activePage)||void 0===a||a.addElement({type:"text",id:"4"}),expect(null===(i=c.activePage)||void 0===i?void 0:i.canMoveElementsTop(["2","4"])).toEqual(!0),null===(o=c.activePage)||void 0===o||o.moveElementsTop(["1","4"]),expect(null===(d=c.activePage)||void 0===d?void 0:d.children.map((e=>e.id))).toStrictEqual(["2","3","1","4"]),expect(null===(v=c.activePage)||void 0===v?void 0:v.canMoveElementsTop(["1","4"])).toEqual(!1),null===(n=c.activePage)||void 0===n||n.moveElementsTop(["5","1"])})),test("move elements down",(()=>{var e,t,l,a,i,o,d,v,n,c,u;const m=(0,store_1.createStore)();m.addPage(),null===(e=m.activePage)||void 0===e||e.addElement({type:"text",id:"1"}),null===(t=m.activePage)||void 0===t||t.addElement({type:"text",id:"2"}),null===(l=m.activePage)||void 0===l||l.addElement({type:"text",id:"3"}),null===(a=m.activePage)||void 0===a||a.addElement({type:"text",id:"4"}),expect(null===(i=m.activePage)||void 0===i?void 0:i.canMoveElementsDown(["1","2"])).toEqual(!1),expect(null===(o=m.activePage)||void 0===o?void 0:o.canMoveElementsDown(["4","2"])).toEqual(!0),null===(d=m.activePage)||void 0===d||d.moveElementsDown(["4","2"]),expect(null===(v=m.activePage)||void 0===v?void 0:v.children.map((e=>e.id))).toStrictEqual(["2","1","4","3"]),null===(n=m.activePage)||void 0===n||n.moveElementsDown(["2","4"]),expect(null===(c=m.activePage)||void 0===c?void 0:c.children.map((e=>e.id))).toStrictEqual(["2","4","1","3"]),null===(u=m.activePage)||void 0===u||u.moveElementsDown(["5","1"])})),test("locking API should continue to work",(()=>{const e=(0,store_1.createStore)();e.loadJSON({width:100,height:100,pages:[{id:"page1",children:[{id:"element1",type:"text",text:"hello",locked:!0}]}]});const t=e.getElementById("element1");expect(null==t?void 0:t.locked).toEqual(!0),expect(null==t?void 0:t.draggable).toEqual(!1),expect(null==t?void 0:t.contentEditable).toEqual(!1)}));