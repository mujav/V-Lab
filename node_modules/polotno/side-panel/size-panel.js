"use strict";var __rest=this&&this.__rest||function(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(a=Object.getOwnPropertySymbols(e);n<a.length;n++)t.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(i[a[n]]=e[a[n]])}return i},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.SizePanel=exports.DEFAULT_SIZES=void 0;const react_1=__importDefault(require("react")),mobx_react_lite_1=require("mobx-react-lite"),core_1=require("@blueprintjs/core"),popover2_1=require("@blueprintjs/popover2"),l10n_1=require("../utils/l10n"),AiOutlineFacebook_1=__importDefault(require("@meronex/icons/ai/AiOutlineFacebook")),AiOutlineInstagram_1=__importDefault(require("@meronex/icons/ai/AiOutlineInstagram")),AiOutlineYoutube_1=__importDefault(require("@meronex/icons/ai/AiOutlineYoutube")),AiOutlineVideoCamera_1=__importDefault(require("@meronex/icons/ai/AiOutlineVideoCamera")),unit_1=require("../utils/unit");exports.DEFAULT_SIZES=[["Instagram Post",1080,1080,react_1.default.createElement(AiOutlineInstagram_1.default,null)],["Instagram Story",1080,1920,react_1.default.createElement(AiOutlineInstagram_1.default,null)],["Instagram Ad",1080,1080,react_1.default.createElement(AiOutlineInstagram_1.default,null)],["Facebook Post",940,788,react_1.default.createElement(AiOutlineFacebook_1.default,null)],["Facebook Cover",851,315,react_1.default.createElement(AiOutlineFacebook_1.default,null)],["Facebook Ad",1200,628,react_1.default.createElement(AiOutlineFacebook_1.default,null)],["Youtube Thumbnail",1280,720,react_1.default.createElement(AiOutlineYoutube_1.default,null)],["Youtube Channel",2560,1440,react_1.default.createElement(AiOutlineYoutube_1.default,null)],["Full HD",1920,1080,react_1.default.createElement(AiOutlineVideoCamera_1.default,null)]];const minSize=10,NumericInputDelayed=e=>{var{value:t,onChange:i}=e,a=__rest(e,["value","onChange"]);const n=react_1.default.useRef(),[l,r]=react_1.default.useState(t),u=react_1.default.useRef(t);u.current=l;const o=()=>{clearTimeout(n.current),i(Math.max(10,u.current))};react_1.default.useEffect((()=>{r(t)}),[t]);return react_1.default.createElement(core_1.NumericInput,Object.assign({},a,{value:l,onValueChange:e=>{r(e),clearTimeout(n.current),n.current=window.setTimeout(o,500)},onBlur:o}))};exports.SizePanel=(0,mobx_react_lite_1.observer)((({store:e})=>{const[t,i]=react_1.default.useState(!0);return react_1.default.createElement("div",{style:{height:"100%",overflow:"auto",paddingRight:"3px"}},react_1.default.createElement("div",{style:{paddingBottom:"15px"}},react_1.default.createElement(core_1.Switch,{checked:t,onChange:e=>{i(e.target.checked)},alignIndicator:core_1.Alignment.RIGHT,style:{marginTop:"8px",marginBottom:"25px"}},(0,l10n_1.t)("sidePanel.useMagicResize")," ",react_1.default.createElement(popover2_1.Tooltip2,{content:(0,l10n_1.t)("sidePanel.magicResizeDescription"),position:core_1.Position.BOTTOM},react_1.default.createElement(core_1.Icon,{icon:"help"}))),react_1.default.createElement("div",{style:{width:"50%",display:"inline-block"}},(0,l10n_1.t)("sidePanel.width")," (",e.unit,")"),react_1.default.createElement("div",{style:{width:"50%",display:"inline-block"}},react_1.default.createElement(NumericInputDelayed,{fill:!0,value:(0,unit_1.pxToUnitRounded)({px:e.width,unit:e.unit,dpi:e.dpi}),onChange:i=>{e.setSize((0,unit_1.unitToPx)({unitVal:i,dpi:e.dpi,unit:e.unit}),e.height,t)},min:10,max:1e4,selectAllOnFocus:!0,minorStepSize:.01}))),react_1.default.createElement("div",{style:{paddingBottom:"15px"}},react_1.default.createElement("div",{style:{width:"50%",display:"inline-block"}},(0,l10n_1.t)("sidePanel.height")," (",e.unit,")"),react_1.default.createElement("div",{style:{width:"50%",display:"inline-block"}},react_1.default.createElement(NumericInputDelayed,{fill:!0,value:(0,unit_1.pxToUnitRounded)({px:e.height,dpi:e.dpi,unit:e.unit}),onChange:i=>e.setSize(e.width,(0,unit_1.unitToPx)({unitVal:i,dpi:e.dpi,unit:e.unit}),t),min:10,max:1e4,selectAllOnFocus:!0,minorStepSize:.01}))),exports.DEFAULT_SIZES.map((([i,a,n,l])=>react_1.default.createElement(core_1.Button,{key:i,style:{width:"100%",paddingTop:"10px",paddingBottom:"10px",fontSize:"16px"},minimal:!0,onClick:()=>{e.setSize(a,n,t)},icon:l,alignText:"left"},i,react_1.default.createElement("span",{style:{fontSize:"0.7rem",paddingLeft:"20px",float:"right",lineHeight:"1.1rem"}},a," x ",n," px")))))}));